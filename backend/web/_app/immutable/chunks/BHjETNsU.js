var mt=Object.defineProperty;var gt=Object.getPrototypeOf;var bt=Reflect.get;var Ge=n=>{throw TypeError(n)};var yt=(n,e,t)=>e in n?mt(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var U=(n,e,t)=>yt(n,typeof e!="symbol"?e+"":e,t),Me=(n,e,t)=>e.has(n)||Ge("Cannot "+t);var u=(n,e,t)=>(Me(n,e,"read from private field"),t?t.call(n):e.get(n)),d=(n,e,t)=>e.has(n)?Ge("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),T=(n,e,t,r)=>(Me(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),O=(n,e,t)=>(Me(n,e,"access private method"),t);var je=(n,e,t)=>bt(gt(n),t,e);import"./CWj6FrbW.js";import{N as Xe,T as pt,L as Et,aV as wt,aE as St,S as Tt,_ as Nt,$ as At,O as It,a1 as Ot,a4 as Lt,a0 as Dt,a3 as Ft,aG as A,aW as Ye,ai as Ct,E as l,K as E,aX as ie,u as ne,x as xt,w as Ze,y as Pt,A as kt,ab as _t,aH as ve,p as z,d as P,e as k,a as _,b as G,n as j,v as Rt,aY as Mt,o as Bt}from"./OJV6PnUL.js";import{a as X,m as Ut,u as Kt}from"./Bdkina3R.js";import{i as it,p as w}from"./PIzckyUp.js";import{b as v,w as L,l as Z,u as Ke,o as Ht,a as st,n as Wt}from"./cH0hAIgJ.js";import{o as I}from"./B1TCuiIb.js";function Vt(n,e,t){Xe&&pt();var r=n,i=Dt,s,o,a=null,c=Et()?wt:St;function m(){s&&Ft(s),a!==null&&(a.lastChild.remove(),r.before(a),a=null),s=o}Tt(()=>{if(c(i,i=e())){var b=r,g=Ot();g&&(a=document.createDocumentFragment(),a.append(b=Nt())),o=At(()=>t(b)),g?It.add_callback(m):m()}}),Xe&&(r=Lt)}var C,x,R,Se,D,se,pe;const qe=class qe extends Map{constructor(t){super();d(this,D);d(this,C,new Map);d(this,x,A(0));d(this,R,A(0));d(this,Se,Ye||-1);if(t){for(var[r,i]of t)super.set(r,i);u(this,R).v=super.size}}has(t){var r=u(this,C),i=r.get(t);if(i===void 0){var s=super.get(t);if(s!==void 0)i=O(this,D,se).call(this,0),r.set(t,i);else return l(u(this,x)),!1}return l(i),!0}forEach(t,r){O(this,D,pe).call(this),super.forEach(t,r)}get(t){var r=u(this,C),i=r.get(t);if(i===void 0){var s=super.get(t);if(s!==void 0)i=O(this,D,se).call(this,0),r.set(t,i);else{l(u(this,x));return}}return l(i),super.get(t)}set(t,r){var g;var i=u(this,C),s=i.get(t),o=super.get(t),a=super.set(t,r),c=u(this,x);if(s===void 0)s=O(this,D,se).call(this,0),i.set(t,s),E(u(this,R),super.size),ie(c);else if(o!==r){ie(s);var m=c.reactions===null?null:new Set(c.reactions),b=m===null||!((g=s.reactions)!=null&&g.every(h=>m.has(h)));b&&ie(c)}return a}delete(t){var r=u(this,C),i=r.get(t),s=super.delete(t);return i!==void 0&&(r.delete(t),E(u(this,R),super.size),E(i,-1),ie(u(this,x))),s}clear(){if(super.size!==0){super.clear();var t=u(this,C);E(u(this,R),0);for(var r of t.values())E(r,-1);ie(u(this,x)),t.clear()}}keys(){return l(u(this,x)),super.keys()}values(){return O(this,D,pe).call(this),super.values()}entries(){return O(this,D,pe).call(this),super.entries()}[Symbol.iterator](){return this.entries()}get size(){return l(u(this,R)),super.size}};C=new WeakMap,x=new WeakMap,R=new WeakMap,Se=new WeakMap,D=new WeakSet,se=function(t){return Ye===u(this,Se)?A(t):Ct(t)},pe=function(){l(u(this,x));var t=u(this,C);if(u(this,R).v!==t.size){for(var r of je(qe.prototype,this,"keys").call(this))if(!t.has(r)){var i=O(this,D,se).call(this,0);t.set(r,i)}}for([,i]of u(this,C))l(i)};let Be=qe;var ue,ae;class qt{constructor(e){d(this,ue,A(void 0));d(this,ae);ne(()=>{E(u(this,ue),u(this,ae),!0),T(this,ae,e())})}get current(){return l(u(this,ue))}}ue=new WeakMap,ae=new WeakMap;var oe,M;class zt{constructor(e){d(this,oe);d(this,M);T(this,oe,e),T(this,M,Symbol(e))}get key(){return u(this,M)}exists(){return xt(u(this,M))}get(){const e=Ze(u(this,M));if(e===void 0)throw new Error(`Context "${u(this,oe)}" not found`);return e}getOr(e){const t=Ze(u(this,M));return t===void 0?e:t}set(e){return Pt(u(this,M),e)}}oe=new WeakMap,M=new WeakMap;function He(n,e){return setTimeout(e,n)}function _e(n){kt().then(n)}function er(n){return n?"open":"closed"}function tr(n){return n?"checked":"unchecked"}function nr(n){return n?"true":"false"}function rr(n){return n?"":void 0}function ir(n){return n?"true":"false"}function sr(n){return n?"true":"false"}function ur(n,e){return n?"true":"false"}function ar(n){return n}function or(n){return n?"true":void 0}function cr(n){return n}function lr(n){return n?"":void 0}function dr(n){return n?!0:void 0}function fr(n){return n?!0:void 0}function hr(n){return n?!0:void 0}const vr="ArrowDown",mr="ArrowLeft",gr="ArrowRight",br="ArrowUp",yr="End",pr="Enter",Gt="Escape",Er="Home",wr="PageDown",Sr="PageUp",Tr=" ",jt="Tab",We=typeof document<"u",Je=Xt();function Xt(){var n,e;return We&&((n=window==null?void 0:window.navigator)==null?void 0:n.userAgent)&&(/iP(ad|hone|od)/.test(window.navigator.userAgent)||((e=window==null?void 0:window.navigator)==null?void 0:e.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function Ue(n){return n instanceof HTMLElement}function Yt(n){return n instanceof Element}function Nr(n){return n.matches(":focus-visible")}function Ar(n){return n!==null}function Zt(n){return n instanceof HTMLInputElement&&"select"in n}function Jt(n,e){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function N(){}function Qt(n,e){const t=v(n);function r(s){return e[t.current][s]??t.current}return{state:t,dispatch:s=>{t.current=r(s)}}}function $t(n,e){let t=A(_t({})),r=A("none");const i=n.current?"mounted":"unmounted";let s=A(null);const o=new qt(()=>n.current);L([()=>e.current,()=>n.current],([h,F])=>{!h||!F||_e(()=>{E(s,document.getElementById(h),!0)})});const{state:a,dispatch:c}=Qt(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});L(()=>n.current,h=>{if(l(s)||E(s,document.getElementById(e.current),!0),!l(s)||!(h!==o.current))return;const Y=l(r),me=be(l(s));h?c("MOUNT"):me==="none"||l(t).display==="none"?c("UNMOUNT"):c(o&&Y!==me?"ANIMATION_OUT":"UNMOUNT")});function m(h){if(l(s)||E(s,document.getElementById(e.current),!0),!l(s))return;const F=be(l(s)),Y=F.includes(h.animationName)||F==="none";h.target===l(s)&&Y&&c("ANIMATION_END")}function b(h){l(s)||E(s,document.getElementById(e.current),!0),l(s)&&h.target===l(s)&&E(r,be(l(s)),!0)}L(()=>a.current,()=>{if(l(s)||E(s,document.getElementById(e.current),!0),!l(s))return;const h=be(l(s));E(r,a.current==="mounted"?h:"none",!0)}),L(()=>l(s),h=>{if(h)return E(t,getComputedStyle(h),!0),Z(I(h,"animationstart",b),I(h,"animationcancel",m),I(h,"animationend",m))});const g=ve(()=>["mounted","unmountSuspended"].includes(a.current));return{get current(){return l(g)}}}function be(n){return n&&getComputedStyle(n).animationName||"none"}function Ir(n,e){z(e,!0);const t=$t(v.with(()=>e.present),v.with(()=>e.id));var r=P(),i=k(r);{var s=o=>{var a=P(),c=k(a);X(c,()=>e.presence??j,()=>({present:t})),_(o,a)};it(i,o=>{(e.forceMount||e.present||t.current)&&o(s)})}_(n,r),G()}function en(n,e){var t=P(),r=k(t);Vt(r,()=>e.children,i=>{var s=P(),o=k(s);X(o,()=>e.children??j),_(i,s)}),_(n,t)}function Or(n,e){z(e,!0);let t=w(e,"to",3,"body");const r=Rt();let i=ve(s);function s(){if(!We||e.disabled)return null;let g=null;return typeof t()=="string"?g=document.querySelector(t()):(t()instanceof HTMLElement||t()instanceof DocumentFragment)&&(g=t()),g}let o;function a(){o&&(Kt(o),o=null)}L([()=>l(i),()=>e.disabled],([g,h])=>{if(!g||h){a();return}return o=Ut(en,{target:g,props:{children:e.children},context:r}),()=>{a()}});var c=P(),m=k(c);{var b=g=>{var h=P(),F=k(h);X(F,()=>e.children??j),_(g,h)};it(m,g=>{e.disabled&&g(b)})}_(n,c),G()}function ut(n,e,t,r){const i=Array.isArray(e)?e:[e];return i.forEach(s=>n.addEventListener(s,t,r)),()=>{i.forEach(s=>n.removeEventListener(s,t,r))}}class at{constructor(e,t={bubbles:!0,cancelable:!0}){U(this,"eventName");U(this,"options");this.eventName=e,this.options=t}createEvent(e){return new CustomEvent(this.eventName,{...this.options,detail:e})}dispatch(e,t){const r=this.createEvent(t);return e.dispatchEvent(r),r}listen(e,t,r){const i=s=>{t(s)};return I(e,this.eventName,i,r)}}function Qe(n,e=500){let t=null;const r=(...i)=>{t!==null&&clearTimeout(t),t=setTimeout(()=>{n(...i)},e)};return r.destroy=()=>{t!==null&&(clearTimeout(t),t=null)},r}function Ve(n,e){return n===e||n.contains(e)}function ot(n){return(n==null?void 0:n.ownerDocument)??document}function tn(n,e){const{clientX:t,clientY:r}=n,i=e.getBoundingClientRect();return t<i.left||t>i.right||r<i.top||r>i.bottom}globalThis.bitsDismissableLayers??(globalThis.bitsDismissableLayers=new Map);var J,q,W,Q,$,V,ce,le,B,Te,re,ct,Ne,ee,Ae,Ie,Oe,Le,de,lt,De,Fe;class nn{constructor(e){d(this,re);U(this,"opts");d(this,J);d(this,q);d(this,W,{pointerdown:!1});d(this,Q,!1);d(this,$,!1);U(this,"node",v(null));d(this,V);d(this,ce);d(this,le,A(null));d(this,B,N);d(this,Te,e=>{e.defaultPrevented||this.currNode&&_e(()=>{var t,r;!this.currNode||u(this,Le).call(this,e.target)||e.target&&!u(this,$)&&((r=(t=u(this,ce)).current)==null||r.call(t,e))})});d(this,Ne,e=>{let t=e;t.defaultPrevented&&(t=$e(e)),u(this,J).current(e)});d(this,ee,Qe(e=>{if(!this.currNode){u(this,B).call(this);return}const t=this.opts.isValidEvent.current(e,this.currNode)||an(e,this.currNode);if(!u(this,Q)||O(this,re,lt).call(this)||!t){u(this,B).call(this);return}let r=e;if(r.defaultPrevented&&(r=$e(r)),u(this,q).current!=="close"&&u(this,q).current!=="defer-otherwise-close"){u(this,B).call(this);return}e.pointerType==="touch"?(u(this,B).call(this),T(this,B,ut(u(this,V),"click",u(this,Ne),{once:!0}))):u(this,J).current(r)},10));d(this,Ae,e=>{u(this,W)[e.type]=!0});d(this,Ie,e=>{u(this,W)[e.type]=!1});d(this,Oe,()=>{this.node.current&&T(this,Q,un(this.node.current))});d(this,Le,e=>this.node.current?Ve(this.node.current,e):!1);d(this,de,Qe(()=>{for(const e in u(this,W))u(this,W)[e]=!1;T(this,Q,!1)},20));d(this,De,()=>{T(this,$,!0)});d(this,Fe,()=>{T(this,$,!1)});U(this,"props",{onfocuscapture:u(this,De),onblurcapture:u(this,Fe)});this.opts=e,Ke({id:e.id,ref:this.node,deps:()=>e.enabled.current,onRefChange:i=>{this.currNode=i}}),T(this,q,e.interactOutsideBehavior),T(this,J,e.onInteractOutside),T(this,ce,e.onFocusOutside),ne(()=>{T(this,V,ot(this.currNode))});let t=N;const r=()=>{u(this,de).call(this),globalThis.bitsDismissableLayers.delete(this),u(this,ee).destroy(),t()};L([()=>this.opts.enabled.current,()=>this.currNode],([i,s])=>{if(!(!i||!s))return He(1,()=>{this.currNode&&(globalThis.bitsDismissableLayers.set(this,u(this,q)),t(),t=O(this,re,ct).call(this))}),r}),Ht(()=>{u(this,de).destroy(),globalThis.bitsDismissableLayers.delete(this),u(this,ee).destroy(),u(this,B).call(this),t()})}get currNode(){return l(u(this,le))}set currNode(e){E(u(this,le),e,!0)}}J=new WeakMap,q=new WeakMap,W=new WeakMap,Q=new WeakMap,$=new WeakMap,V=new WeakMap,ce=new WeakMap,le=new WeakMap,B=new WeakMap,Te=new WeakMap,re=new WeakSet,ct=function(){return Z(I(u(this,V),"pointerdown",Z(u(this,Ae),u(this,Oe)),{capture:!0}),I(u(this,V),"pointerdown",Z(u(this,Ie),u(this,ee))),I(u(this,V),"focusin",u(this,Te)))},Ne=new WeakMap,ee=new WeakMap,Ae=new WeakMap,Ie=new WeakMap,Oe=new WeakMap,Le=new WeakMap,de=new WeakMap,lt=function(){return Object.values(u(this,W)).some(Boolean)},De=new WeakMap,Fe=new WeakMap;function rn(n){return new nn(n)}function sn(n){return n.findLast(([e,{current:t}])=>t==="close"||t==="ignore")}function un(n){const e=[...globalThis.bitsDismissableLayers],t=sn(e);if(t)return t[0].node.current===n;const[r]=e[0];return r.node.current===n}function an(n,e){if("button"in n&&n.button>0)return!1;const t=n.target;return Yt(t)?ot(t).documentElement.contains(t)&&!Ve(e,t)&&tn(n,e):!1}function $e(n){const e=n.currentTarget,t=n.target;let r;n instanceof PointerEvent?r=new PointerEvent(n.type,n):r=new PointerEvent("pointerdown",n);let i=!1;return new Proxy(r,{get:(o,a)=>a==="currentTarget"?e:a==="target"?t:a==="preventDefault"?()=>{i=!0,typeof o.preventDefault=="function"&&o.preventDefault()}:a==="defaultPrevented"?i:a in o?o[a]:n[a]})}function Lr(n,e){z(e,!0);let t=w(e,"interactOutsideBehavior",3,"close"),r=w(e,"onInteractOutside",3,N),i=w(e,"onFocusOutside",3,N),s=w(e,"isValidEvent",3,()=>!1);const o=rn({id:v.with(()=>e.id),interactOutsideBehavior:v.with(()=>t()),onInteractOutside:v.with(()=>r()),enabled:v.with(()=>e.enabled),onFocusOutside:v.with(()=>i()),isValidEvent:v.with(()=>s())});var a=P(),c=k(a);X(c,()=>e.children??j,()=>({props:o.props})),_(n,a),G()}globalThis.bitsEscapeLayers??(globalThis.bitsEscapeLayers=new Map);var Ce,xe;class on{constructor(e){U(this,"opts");d(this,Ce,()=>I(document,"keydown",u(this,xe),{passive:!1}));d(this,xe,e=>{if(e.key!==Gt||!ln(this))return;const t=new KeyboardEvent(e.type,e);e.preventDefault();const r=this.opts.escapeKeydownBehavior.current;r!=="close"&&r!=="defer-otherwise-close"||this.opts.onEscapeKeydown.current(t)});this.opts=e;let t=N;L(()=>e.enabled.current,r=>(r&&(globalThis.bitsEscapeLayers.set(this,e.escapeKeydownBehavior),t=u(this,Ce).call(this)),()=>{t(),globalThis.bitsEscapeLayers.delete(this)}))}}Ce=new WeakMap,xe=new WeakMap;function cn(n){return new on(n)}function ln(n){const e=[...globalThis.bitsEscapeLayers],t=e.findLast(([i,{current:s}])=>s==="close"||s==="ignore");if(t)return t[0]===n;const[r]=e[0];return r===n}function Dr(n,e){z(e,!0);let t=w(e,"escapeKeydownBehavior",3,"close"),r=w(e,"onEscapeKeydown",3,N);cn({escapeKeydownBehavior:v.with(()=>t()),onEscapeKeydown:v.with(()=>r()),enabled:v.with(()=>e.enabled)});var i=P(),s=k(i);X(s,()=>e.children??j),_(n,i),G()}const K=v([]);function dn(){return{add(n){const e=K.current[0];e&&n.id!==e.id&&e.pause(),K.current=et(K.current,n),K.current.unshift(n)},remove(n){var e;K.current=et(K.current,n),(e=K.current[0])==null||e.resume()},get current(){return K.current}}}function fn(){let n=A(!1),e=A(!1);return{id:st(),get paused(){return l(n)},get isHandlingFocus(){return l(e)},set isHandlingFocus(t){E(e,t,!0)},pause(){E(n,!0)},resume(){E(n,!1)}}}function et(n,e){return[...n].filter(t=>t.id!==e.id)}function hn(n){return n.filter(e=>e.tagName!=="A")}function H(n,{select:e=!1}={}){if(!(n&&n.focus)||document.activeElement===n)return;const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&Zt(n)&&e&&n.select()}function vn(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if(H(r,{select:e}),document.activeElement!==t)return!0}function tt(n,e){for(const t of n)if(!Jt(t,e))return t}function dt(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function mn(n){const e=dt(n),t=tt(e,n),r=tt(e.reverse(),n);return[t,r]}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var gn=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],bn=gn.join(","),ft=typeof Element>"u",Ee=ft?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,we=!ft&&Element.prototype.getRootNode?function(n){var e;return n==null||(e=n.getRootNode)===null||e===void 0?void 0:e.call(n)}:function(n){return n==null?void 0:n.ownerDocument},yn=function n(e,t){var r;t===void 0&&(t=!0);var i=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"inert"),s=i===""||i==="true",o=s||t&&e&&n(e.parentNode);return o},pn=function(e){var t,r=e==null||(t=e.getAttribute)===null||t===void 0?void 0:t.call(e,"contenteditable");return r===""||r==="true"},En=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},wn=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||pn(e))&&!En(e)?0:e.tabIndex},ht=function(e){return e.tagName==="INPUT"},Sn=function(e){return ht(e)&&e.type==="hidden"},Tn=function(e){var t=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(r){return r.tagName==="SUMMARY"});return t},Nn=function(e,t){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===t)return e[r]},An=function(e){if(!e.name)return!0;var t=e.form||we(e),r=function(a){return t.querySelectorAll('input[type="radio"][name="'+a+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=r(window.CSS.escape(e.name));else try{i=r(e.name)}catch(o){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",o.message),!1}var s=Nn(i,e.form);return!s||s===e},In=function(e){return ht(e)&&e.type==="radio"},On=function(e){return In(e)&&!An(e)},Ln=function(e){var t,r=e&&we(e),i=(t=r)===null||t===void 0?void 0:t.host,s=!1;if(r&&r!==e){var o,a,c;for(s=!!((o=i)!==null&&o!==void 0&&(a=o.ownerDocument)!==null&&a!==void 0&&a.contains(i)||e!=null&&(c=e.ownerDocument)!==null&&c!==void 0&&c.contains(e));!s&&i;){var m,b,g;r=we(i),i=(m=r)===null||m===void 0?void 0:m.host,s=!!((b=i)!==null&&b!==void 0&&(g=b.ownerDocument)!==null&&g!==void 0&&g.contains(i))}}return s},nt=function(e){var t=e.getBoundingClientRect(),r=t.width,i=t.height;return r===0&&i===0},Dn=function(e,t){var r=t.displayCheck,i=t.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var s=Ee.call(e,"details>summary:first-of-type"),o=s?e.parentElement:e;if(Ee.call(o,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof i=="function"){for(var a=e;e;){var c=e.parentElement,m=we(e);if(c&&!c.shadowRoot&&i(c)===!0)return nt(e);e.assignedSlot?e=e.assignedSlot:!c&&m!==e.ownerDocument?e=m.host:e=c}e=a}if(Ln(e))return!e.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return nt(e);return!1},Fn=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if(t.tagName==="FIELDSET"&&t.disabled){for(var r=0;r<t.children.length;r++){var i=t.children.item(r);if(i.tagName==="LEGEND")return Ee.call(t,"fieldset[disabled] *")?!0:!i.contains(e)}return!0}t=t.parentElement}return!1},Cn=function(e,t){return!(t.disabled||yn(t)||Sn(t)||Dn(t,e)||Tn(t)||Fn(t))},xn=function(e,t){return!(On(t)||wn(t)<0||!Cn(e,t))},Pn=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return Ee.call(e,bn)===!1?!1:xn(t,e)};const kn=new at("focusScope.autoFocusOnMount",{bubbles:!1,cancelable:!0}),_n=new at("focusScope.autoFocusOnDestroy",{bubbles:!1,cancelable:!0}),Rn=new zt("FocusScope");function Mn({id:n,loop:e,enabled:t,onOpenAutoFocus:r,onCloseAutoFocus:i,forceMount:s}){const o=dn(),a=fn(),c=v(null),m=Rn.getOr({ignoreCloseAutoFocus:!1});let b=null;Ke({id:n,ref:c,deps:()=>t.current});function g(f){if(!(a.paused||!c.current||a.isHandlingFocus)){a.isHandlingFocus=!0;try{const y=f.target;if(!Ue(y))return;const p=c.current.contains(y);if(f.type==="focusin")if(p)b=y;else{if(m.ignoreCloseAutoFocus)return;H(b,{select:!0})}else f.type==="focusout"&&!p&&!m.ignoreCloseAutoFocus&&H(b,{select:!0})}finally{a.isHandlingFocus=!1}}}function h(f){if(!b||!c.current)return;let y=!1;for(const p of f){if(p.type==="childList"&&p.removedNodes.length>0)for(const S of p.removedNodes){if(S===b){y=!0;break}if(S.nodeType===Node.ELEMENT_NODE&&S.contains(b)){y=!0;break}}if(y)break}y&&c.current&&!c.current.contains(document.activeElement)&&H(c.current)}L([()=>c.current,()=>t.current],([f,y])=>{if(!f||!y)return;const p=Z(I(document,"focusin",g),I(document,"focusout",g)),S=new MutationObserver(h);return S.observe(f,{childList:!0,subtree:!0,attributes:!1}),()=>{p(),S.disconnect()}}),L([()=>s.current,()=>c.current],([f,y])=>{if(f)return;const p=document.activeElement;return F(y,p),()=>{y&&Y(p)}}),L([()=>s.current,()=>c.current,()=>t.current],([f,y])=>{if(!f)return;const p=document.activeElement;return F(y,p),()=>{y&&Y(p)}});function F(f,y){if(f||(f=document.getElementById(n.current)),!f||!t.current)return;if(o.add(a),!f.contains(y)){const S=kn.createEvent();r.current(S),S.defaultPrevented||_e(()=>{if(!f)return;vn(hn(dt(f)),{select:!0})||H(f)})}}function Y(f){var S;const y=_n.createEvent();(S=i.current)==null||S.call(i,y);const p=m.ignoreCloseAutoFocus;He(0,()=>{!y.defaultPrevented&&f&&!p&&H(Pn(f)?f:document.body,{select:!0}),o.remove(a)})}function me(f){if(!t.current||!e.current&&!t.current||a.paused)return;const y=f.key===jt&&!f.ctrlKey&&!f.altKey&&!f.metaKey,p=document.activeElement;if(!(y&&p))return;const S=c.current;if(!S)return;const[ge,Re]=mn(S);ge&&Re?!f.shiftKey&&p===Re?(f.preventDefault(),e.current&&H(ge,{select:!0})):f.shiftKey&&p===ge&&(f.preventDefault(),e.current&&H(Re,{select:!0})):p===S&&f.preventDefault()}const ze=ve(()=>({id:n.current,tabindex:-1,onkeydown:me}));return{get props(){return l(ze)}}}function Fr(n,e){z(e,!0);let t=w(e,"trapFocus",3,!1),r=w(e,"loop",3,!1),i=w(e,"onCloseAutoFocus",3,N),s=w(e,"onOpenAutoFocus",3,N),o=w(e,"forceMount",3,!1);const a=Mn({enabled:v.with(()=>t()),loop:v.with(()=>r()),onCloseAutoFocus:v.with(()=>i()),onOpenAutoFocus:v.with(()=>s()),id:v.with(()=>e.id),forceMount:v.with(()=>o())});var c=P(),m=k(c);X(m,()=>e.focusScope??j,()=>({props:a.props})),_(n,c),G()}globalThis.bitsTextSelectionLayers??(globalThis.bitsTextSelectionLayers=new Map);var te,fe,Pe,vt,ke,he;class Bn{constructor(e){d(this,Pe);U(this,"opts");d(this,te,N);d(this,fe,v(null));d(this,ke,e=>{const t=u(this,fe).current,r=e.target;!Ue(t)||!Ue(r)||!this.opts.enabled.current||!Hn(this)||!Ve(t,r)||(this.opts.onPointerDown.current(e),!e.defaultPrevented&&T(this,te,Kn(t)))});d(this,he,()=>{u(this,te).call(this),T(this,te,N)});this.opts=e,Ke({id:e.id,ref:u(this,fe),deps:()=>this.opts.enabled.current});let t=N;L(()=>this.opts.enabled.current,r=>(r&&(globalThis.bitsTextSelectionLayers.set(this,this.opts.enabled),t(),t=O(this,Pe,vt).call(this)),()=>{t(),u(this,he).call(this),globalThis.bitsTextSelectionLayers.delete(this)}))}}te=new WeakMap,fe=new WeakMap,Pe=new WeakSet,vt=function(){return Z(I(document,"pointerdown",u(this,ke)),I(document,"pointerup",Wt(u(this,he),this.opts.onPointerUp.current)))},ke=new WeakMap,he=new WeakMap;function Un(n){return new Bn(n)}const rt=n=>n.style.userSelect||n.style.webkitUserSelect;function Kn(n){const e=document.body,t=rt(e),r=rt(n);return ye(e,"none"),ye(n,"text"),()=>{ye(e,t),ye(n,r)}}function ye(n,e){n.style.userSelect=e,n.style.webkitUserSelect=e}function Hn(n){const e=[...globalThis.bitsTextSelectionLayers];if(!e.length)return!1;const t=e.at(-1);return t?t[0]===n:!1}function Cr(n,e){z(e,!0);let t=w(e,"preventOverflowTextSelection",3,!0),r=w(e,"onPointerDown",3,N),i=w(e,"onPointerUp",3,N);Un({id:v.with(()=>e.id),onPointerDown:v.with(()=>r()),onPointerUp:v.with(()=>i()),enabled:v.with(()=>e.enabled&&t())});var s=P(),o=k(s);X(o,()=>e.children??j),_(n,s),G()}function Wn(n){let e=0,t=A(void 0),r;function i(){e-=1,r&&e<=0&&(r(),E(t,void 0),r=void 0)}return(...s)=>(e+=1,l(t)===void 0&&(r=Mt(()=>{E(t,n(...s),!0)})),ne(()=>()=>{i()}),l(t))}const Vn=Wn(()=>{const n=new Be,e=ve(()=>{for(const s of n.values())if(s)return!0;return!1});let t=A(null),r=null;function i(){We&&(document.body.setAttribute("style",l(t)??""),document.body.style.removeProperty("--scrollbar-width"),Je&&(r==null||r()))}return ne(()=>{const s=l(e);return Bt(()=>{if(!s)return;E(t,document.body.getAttribute("style"),!0);const o=getComputedStyle(document.body),a=window.innerWidth-document.documentElement.clientWidth,m={padding:Number.parseInt(o.paddingRight??"0",10)+a,margin:Number.parseInt(o.marginRight??"0",10)};a>0&&(document.body.style.paddingRight=`${m.padding}px`,document.body.style.marginRight=`${m.margin}px`,document.body.style.setProperty("--scrollbar-width",`${a}px`),document.body.style.overflow="hidden"),Je&&(r=ut(document,"touchmove",b=>{b.target===document.documentElement&&(b.touches.length>1||b.preventDefault())},{passive:!1})),_e(()=>{document.body.style.pointerEvents="none",document.body.style.overflow="hidden"})})}),ne(()=>()=>{r==null||r()}),{get map(){return n},resetBodyStyle:i}});function qn(n,e=()=>null){const t=st(),r=Vn();if(!r)return;const i=ve(e);r.map.set(t,n??!1);const s=v.with(()=>r.map.get(t)??!1,o=>r.map.set(t,o));return ne(()=>()=>{r.map.delete(t),!zn(r.map)&&(l(i)===null?requestAnimationFrame(()=>r.resetBodyStyle()):He(l(i),()=>r.resetBodyStyle()))}),s}function zn(n){for(const[e,t]of n)if(t)return!0;return!1}function xr(n,e){z(e,!0);let t=w(e,"preventScroll",3,!0),r=w(e,"restoreScrollDelay",3,null);qn(t(),()=>r()),G()}export{br as A,or as B,zt as C,Lr as D,pr as E,Fr as F,He as G,Er as H,jt as I,Sr as J,wr as K,hr as L,Yt as M,Ue as N,Nr as O,Ir as P,Tr as S,Cr as T,nr as a,Dr as b,xr as c,gr as d,mr as e,vr as f,er as g,yr as h,We as i,Be as j,cr as k,dr as l,rr as m,N as n,ar as o,fr as p,sr as q,lr as r,tr as s,ir as t,ur as u,Or as v,Ar as w,_e as x,qt as y,Je as z};
