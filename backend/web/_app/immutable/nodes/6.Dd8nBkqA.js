import{a as Ee}from"../chunks/BGc_tSxm.js";import{e as rr}from"../chunks/DNSHY1Ls.js";import"../chunks/NZTpNUN0.js";import{d as w,e as u,a,h as N,g as r,l as S,k as X,aq as ot,p as ie,b as le,f as T,c as p,n as ze,r as g,s as d,m as Ye,x as Et,C as O,u as Ut,B as j,t as ge}from"../chunks/CibTsHxy.js";import{a as ne,d as sr,o as or,s as he}from"../chunks/DMzQSiFV.js";import{l as Ht,s as Se,p as C,i as V,r as ke,b as Kt}from"../chunks/D2tfWl3j.js";import{I as Vt,s as Yt,a as Ke,i as Ve}from"../chunks/BBRwJ9cY.js";import{c as F}from"../chunks/Dmq7Nx9n.js";import{s as ar,a as nr}from"../chunks/TTwLhnF3.js";import{p as ir}from"../chunks/CsQup8k1.js";import{g as Nt}from"../chunks/B3x3qhxn.js";import{C as zt,a as Ot,B as lr}from"../chunks/Bvs5g0ah.js";import{c as Ge,B as Ae}from"../chunks/BkNxBhzy.js";import{F as cr,c as dr,E as ur,D as vr,T as fr,d as Ft,P as hr,R as xt,S as Pt,a as bt,b as wt}from"../chunks/CQKzkG8V.js";import{a as Le,r as Mt,g as Bt}from"../chunks/BR09V1wi.js";import{d as gr,e as pr}from"../chunks/BTv9tsTU.js";import{a as at,w as Gt,d as Q,c as mr,l as _r,b as nt,m as Ne}from"../chunks/CvxMnhAS.js";import{C as yr,S as $r,d as xr,n as He}from"../chunks/iNO-dr0C.js";import{O as Pr,P as Xt}from"../chunks/BUDdbBSC.js";import{I as ht}from"../chunks/CU3n_vQS.js";import{L as be,T as jt}from"../chunks/CqC_3kme.js";import{r as br}from"../chunks/Cm2qQ51_.js";import"../chunks/B5zMa-mz.js";import{P as Rt}from"../chunks/D_hoom7v.js";import{C as wr}from"../chunks/th8Y5GeV.js";function Sr(o,e){const t=Ht(e,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.525.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */const n=[["path",{d:"M8 2v4"}],["path",{d:"M16 2v4"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2"}],["path",{d:"M3 10h18"}]];Vt(o,Se({name:"calendar"},()=>t,{get iconNode(){return n},children:(s,i)=>{var l=w(),c=u(l);Yt(c,e,"default",{}),a(s,l)},$$slots:{default:!0}}))}function kr(o,e){const t=Ht(e,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.525.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */const n=[["path",{d:"M18 6 6 18"}],["path",{d:"m6 6 12 12"}]];Vt(o,Se({name:"x"},()=>t,{get iconNode(){return n},children:(s,i)=>{var l=w(),c=u(l);Yt(c,e,"default",{}),a(s,l)},$$slots:{default:!0}}))}const Dr=mr({component:"dialog",parts:["content","trigger","overlay","title","description","close","cancel","action"]}),Xe=new yr("Dialog.Root | AlertDialog.Root");class St{static create(e){return Xe.set(new St(e))}opts;#e=X(null);get triggerNode(){return r(this.#e)}set triggerNode(e){S(this.#e,e,!0)}#t=X(null);get contentNode(){return r(this.#t)}set contentNode(e){S(this.#t,e,!0)}#r=X(null);get descriptionNode(){return r(this.#r)}set descriptionNode(e){S(this.#r,e,!0)}#s=X(void 0);get contentId(){return r(this.#s)}set contentId(e){S(this.#s,e,!0)}#o=X(void 0);get titleId(){return r(this.#o)}set titleId(e){S(this.#o,e,!0)}#a=X(void 0);get triggerId(){return r(this.#a)}set triggerId(e){S(this.#a,e,!0)}#n=X(void 0);get descriptionId(){return r(this.#n)}set descriptionId(e){S(this.#n,e,!0)}#i=X(null);get cancelNode(){return r(this.#i)}set cancelNode(e){S(this.#i,e,!0)}constructor(e){this.opts=e,this.handleOpen=this.handleOpen.bind(this),this.handleClose=this.handleClose.bind(this),new Pr({ref:Q.with(()=>this.contentNode),open:this.opts.open,enabled:!0,onComplete:()=>{this.opts.onOpenChangeComplete.current(this.opts.open.current)}})}handleOpen(){this.opts.open.current||(this.opts.open.current=!0)}handleClose(){this.opts.open.current&&(this.opts.open.current=!1)}getBitsAttr=e=>Dr.getAttr(e,this.opts.variant.current);#l=N(()=>({"data-state":_r(this.opts.open.current)}));get sharedProps(){return r(this.#l)}set sharedProps(e){S(this.#l,e)}}class kt{static create(e){return new kt(e,Xe.get())}opts;root;attachment;constructor(e,t){this.opts=e,this.root=t,this.attachment=at(this.opts.ref),this.onclick=this.onclick.bind(this),this.onkeydown=this.onkeydown.bind(this)}onclick(e){this.opts.disabled.current||e.button>0||this.root.handleClose()}onkeydown(e){this.opts.disabled.current||(e.key===$r||e.key===xr)&&(e.preventDefault(),this.root.handleClose())}#e=N(()=>({id:this.opts.id.current,[this.root.getBitsAttr(this.opts.variant.current)]:"",onclick:this.onclick,onkeydown:this.onkeydown,disabled:this.opts.disabled.current?!0:void 0,tabindex:0,...this.root.sharedProps,...this.attachment}));get props(){return r(this.#e)}set props(e){S(this.#e,e)}}class Dt{static create(e){return new Dt(e,Xe.get())}opts;root;attachment;constructor(e,t){this.opts=e,this.root=t,this.root.titleId=this.opts.id.current,this.attachment=at(this.opts.ref),Gt.pre(()=>this.opts.id.current,n=>{this.root.titleId=n})}#e=N(()=>({id:this.opts.id.current,role:"heading","aria-level":this.opts.level.current,[this.root.getBitsAttr("title")]:"",...this.root.sharedProps,...this.attachment}));get props(){return r(this.#e)}set props(e){S(this.#e,e)}}class Ct{static create(e){return new Ct(e,Xe.get())}opts;root;attachment;constructor(e,t){this.opts=e,this.root=t,this.root.descriptionId=this.opts.id.current,this.attachment=at(this.opts.ref,n=>{this.root.descriptionNode=n}),Gt.pre(()=>this.opts.id.current,n=>{this.root.descriptionId=n})}#e=N(()=>({id:this.opts.id.current,[this.root.getBitsAttr("description")]:"",...this.root.sharedProps,...this.attachment}));get props(){return r(this.#e)}set props(e){S(this.#e,e)}}class Tt{static create(e){return new Tt(e,Xe.get())}opts;root;attachment;constructor(e,t){this.opts=e,this.root=t,this.attachment=at(this.opts.ref,n=>{this.root.contentNode=n,this.root.contentId=n?.id})}#e=N(()=>({open:this.root.opts.open.current}));get snippetProps(){return r(this.#e)}set snippetProps(e){S(this.#e,e)}#t=N(()=>({id:this.opts.id.current,role:this.root.opts.variant.current==="alert-dialog"?"alertdialog":"dialog","aria-modal":"true","aria-describedby":this.root.descriptionId,"aria-labelledby":this.root.titleId,[this.root.getBitsAttr("content")]:"",style:{pointerEvents:"auto",outline:this.root.opts.variant.current==="alert-dialog"?"none":void 0},tabindex:this.root.opts.variant.current==="alert-dialog"?-1:void 0,...this.root.sharedProps,...this.attachment}));get props(){return r(this.#t)}set props(e){S(this.#t,e)}}class At{static create(e){return new At(e,Xe.get())}opts;root;attachment;constructor(e,t){this.opts=e,this.root=t,this.attachment=at(this.opts.ref)}#e=N(()=>({open:this.root.opts.open.current}));get snippetProps(){return r(this.#e)}set snippetProps(e){S(this.#e,e)}#t=N(()=>({id:this.opts.id.current,[this.root.getBitsAttr("overlay")]:"",style:{pointerEvents:"auto"},...this.root.sharedProps,...this.attachment}));get props(){return r(this.#t)}set props(e){S(this.#t,e)}}var Cr=T("<div><!></div>");function Tr(o,e){const t=ot();ie(e,!0);let n=C(e,"id",19,()=>nt(t)),s=C(e,"ref",15,null),i=C(e,"level",3,2),l=ke(e,["$$slots","$$events","$$legacy","id","ref","child","children","level"]);const c=Dt.create({id:Q.with(()=>n()),level:Q.with(()=>i()),ref:Q.with(()=>s(),P=>s(P))}),m=N(()=>Ne(l,c.props));var A=w(),oe=u(A);{var Y=P=>{var v=w(),L=u(v);ne(L,()=>e.child,()=>({props:r(m)})),a(P,v)},R=P=>{var v=Cr();Le(v,()=>({...r(m)}));var L=p(v);ne(L,()=>e.children??ze),g(v),a(P,v)};V(oe,P=>{e.child?P(Y):P(R,!1)})}a(o,A),le()}function Ar({forceMount:o,present:e,open:t}){return(o||e)&&t}var Ir=T("<div><!></div>");function Er(o,e){const t=ot();ie(e,!0);let n=C(e,"id",19,()=>nt(t)),s=C(e,"forceMount",3,!1),i=C(e,"ref",15,null),l=ke(e,["$$slots","$$events","$$legacy","id","forceMount","child","children","ref"]);const c=At.create({id:Q.with(()=>n()),ref:Q.with(()=>i(),A=>i(A))}),m=N(()=>Ne(l,c.props));{const A=Y=>{var R=w(),P=u(R);{var v=z=>{var k=w(),U=u(k);{let ee=N(()=>({props:Ne(r(m)),...c.snippetProps}));ne(U,()=>e.child,()=>r(ee))}a(z,k)},L=z=>{var k=Ir();Le(k,ee=>({...ee}),[()=>Ne(r(m))]);var U=p(k);ne(U,()=>e.children??ze,()=>c.snippetProps),g(k),a(z,k)};V(P,z=>{e.child?z(v):z(L,!1)})}a(Y,R)};let oe=N(()=>c.root.opts.open.current||s());Xt(o,{get open(){return r(oe)},get ref(){return c.opts.ref},presence:A,$$slots:{presence:!0}})}le()}var Nr=T("<div><!></div>");function zr(o,e){const t=ot();ie(e,!0);let n=C(e,"id",19,()=>nt(t)),s=C(e,"ref",15,null),i=ke(e,["$$slots","$$events","$$legacy","id","children","child","ref"]);const l=Ct.create({id:Q.with(()=>n()),ref:Q.with(()=>s(),R=>s(R))}),c=N(()=>Ne(i,l.props));var m=w(),A=u(m);{var oe=R=>{var P=w(),v=u(P);ne(v,()=>e.child,()=>({props:r(c)})),a(R,P)},Y=R=>{var P=Nr();Le(P,()=>({...r(c)}));var v=p(P);ne(v,()=>e.children??ze),g(P),a(R,P)};V(A,R=>{e.child?R(oe):R(Y,!1)})}a(o,m),le()}function Or(o,e){ie(e,!0);let t=C(e,"open",15,!1),n=C(e,"onOpenChange",3,He),s=C(e,"onOpenChangeComplete",3,He);St.create({variant:Q.with(()=>"dialog"),open:Q.with(()=>t(),c=>{t(c),n()(c)}),onOpenChangeComplete:Q.with(()=>s())});var i=w(),l=u(i);ne(l,()=>e.children??ze),a(o,i),le()}var Fr=T("<button><!></button>");function Mr(o,e){const t=ot();ie(e,!0);let n=C(e,"id",19,()=>nt(t)),s=C(e,"ref",15,null),i=C(e,"disabled",3,!1),l=ke(e,["$$slots","$$events","$$legacy","children","child","id","ref","disabled"]);const c=kt.create({variant:Q.with(()=>"close"),id:Q.with(()=>n()),ref:Q.with(()=>s(),P=>s(P)),disabled:Q.with(()=>!!i())}),m=N(()=>Ne(l,c.props));var A=w(),oe=u(A);{var Y=P=>{var v=w(),L=u(v);ne(L,()=>e.child,()=>({props:r(m)})),a(P,v)},R=P=>{var v=Fr();Le(v,()=>({...r(m)}));var L=p(v);ne(L,()=>e.children??ze),g(v),a(P,v)};V(oe,P=>{e.child?P(Y):P(R,!1)})}a(o,A),le()}var Br=T("<!> <!>",1),jr=T("<!> <div><!></div>",1);function Rr(o,e){const t=ot();ie(e,!0);let n=C(e,"id",19,()=>nt(t)),s=C(e,"ref",15,null),i=C(e,"forceMount",3,!1),l=C(e,"onCloseAutoFocus",3,He),c=C(e,"onOpenAutoFocus",3,He),m=C(e,"onEscapeKeydown",3,He),A=C(e,"onInteractOutside",3,He),oe=C(e,"trapFocus",3,!0),Y=C(e,"preventScroll",3,!0),R=C(e,"restoreScrollDelay",3,null),P=ke(e,["$$slots","$$events","$$legacy","id","children","child","ref","forceMount","onCloseAutoFocus","onOpenAutoFocus","onEscapeKeydown","onInteractOutside","trapFocus","preventScroll","restoreScrollDelay"]);const v=Tt.create({id:Q.with(()=>n()),ref:Q.with(()=>s(),z=>s(z))}),L=N(()=>Ne(P,v.props));{const z=U=>{{const ee=(ue,Me)=>{let _e=()=>Me?.().props;ur(ue,Se(()=>r(L),{get enabled(){return v.root.opts.open.current},get ref(){return v.opts.ref},onEscapeKeydown:ye=>{m()(ye),!ye.defaultPrevented&&v.root.handleClose()},children:(ye,Be)=>{vr(ye,Se(()=>r(L),{get ref(){return v.opts.ref},get enabled(){return v.root.opts.open.current},onInteractOutside:$e=>{A()($e),!$e.defaultPrevented&&v.root.handleClose()},children:($e,je)=>{fr($e,Se(()=>r(L),{get ref(){return v.opts.ref},get enabled(){return v.root.opts.open.current},children:(Ie,Re)=>{var xe=w(),Oe=u(xe);{var f=D=>{var H=Br(),y=u(H);{var q=I=>{Ft(I,{get preventScroll(){return Y()},get restoreScrollDelay(){return R()}})};V(y,I=>{v.root.opts.open.current&&I(q)})}var W=d(y,2);{let I=N(()=>({props:Ne(r(L),_e()),...v.snippetProps}));ne(W,()=>e.child,()=>r(I))}a(D,H)},_=D=>{var H=jr(),y=u(H);Ft(y,{get preventScroll(){return Y()}});var q=d(y,2);Le(q,I=>({...I}),[()=>Ne(r(L),_e())]);var W=p(q);ne(W,()=>e.children??ze),g(q),a(D,H)};V(Oe,D=>{e.child?D(f):D(_,!1)})}a(Ie,xe)},$$slots:{default:!0}}))},$$slots:{default:!0}}))},$$slots:{default:!0}}))};let me=N(()=>Ar({forceMount:i(),present:v.root.opts.open.current,open:v.root.opts.open.current}));cr(U,{get ref(){return v.opts.ref},loop:!0,get trapFocus(){return oe()},get enabled(){return r(me)},get onOpenAutoFocus(){return c()},onCloseAutoFocus:ue=>{l()(ue),!ue.defaultPrevented&&dr(1,()=>v.root.triggerNode?.focus())},focusScope:ee,$$slots:{focusScope:!0}})}};let k=N(()=>v.root.opts.open.current||i());Xt(o,Se(()=>r(L),{get forceMount(){return i()},get open(){return r(k)},get ref(){return v.opts.ref},presence:z,$$slots:{presence:!0}}))}le()}const gt={async list(o){const e={};return o?.limit!==void 0&&(e.limit=o.limit),o?.offset!==void 0&&(e.offset=o.offset),o?.status!==void 0&&(e.status=o.status),Ee.get("/api/schedules",{params:e})},async get(o){return Ee.get(`/api/schedules/${o}`)},async create(o){return Ee.post("/api/schedules",o)},async update(o,e){return Ee.put(`/api/schedules/${o}`,e)},async toggle(o,e){const t=e?"enable":"disable";try{return Ee.post(`/api/schedules/${o}/${t}`)}catch{return Ee.patch(`/api/schedules/${o}`,{enabled:e})}},async delete(o){return Ee.delete(`/api/schedules/${o}`)},async runNow(o){return Ee.post(`/api/schedules/${o}/run`)},async getHistory(o){return Ee.get(`/api/schedules/${o}/history`)}},Lr=!1,qr=async({url:o})=>{try{const e=Number(o.searchParams.get("page"))||1,t=Number(o.searchParams.get("limit"))||10,n=o.searchParams.get("status")||void 0,s=(e-1)*t,{schedules:i,total:l}=await gt.list({limit:t,offset:s,status:n});return{schedules:i,total:l,currentPage:e,pageSize:t,totalPages:Math.ceil(l/t),status:n}}catch(e){throw console.error("Failed to load schedules:",e),rr(500,"スケジュールの読み込みに失敗しました")}},so=Object.freeze(Object.defineProperty({__proto__:null,load:qr,prerender:Lr},Symbol.toStringTag,{value:"Module"})),Jr=typeof document<"u";let Lt=0;class Ur{#e=X(Ye([]));get toasts(){return r(this.#e)}set toasts(e){S(this.#e,e,!0)}#t=X(Ye([]));get heights(){return r(this.#t)}set heights(e){S(this.#t,e,!0)}#r=e=>{const t=this.toasts.findIndex(n=>n.id===e);return t===-1?null:t};addToast=e=>{Jr&&this.toasts.unshift(e)};updateToast=({id:e,data:t,type:n,message:s})=>{const i=this.toasts.findIndex(c=>c.id===e),l=this.toasts[i];this.toasts[i]={...l,...t,id:e,title:s,type:n,updated:!0}};create=e=>{const{message:t,...n}=e,s=typeof e?.id=="number"||e.id&&e.id?.length>0?e.id:Lt++,i=e.dismissable===void 0?!0:e.dismissable,l=e.type===void 0?"default":e.type;return Et(()=>{this.toasts.find(m=>m.id===s)?this.updateToast({id:s,data:e,type:l,message:t,dismissable:i}):this.addToast({...n,id:s,title:t,dismissable:i,type:l})}),s};dismiss=e=>(Et(()=>{if(e===void 0){this.toasts=this.toasts.map(n=>({...n,dismiss:!0}));return}const t=this.toasts.findIndex(n=>n.id===e);this.toasts[t]&&(this.toasts[t]={...this.toasts[t],dismiss:!0})}),e);remove=e=>{if(e===void 0){this.toasts=[];return}const t=this.#r(e);if(t!==null)return this.toasts.splice(t,1),e};message=(e,t)=>this.create({...t,type:"default",message:e});error=(e,t)=>this.create({...t,type:"error",message:e});success=(e,t)=>this.create({...t,type:"success",message:e});info=(e,t)=>this.create({...t,type:"info",message:e});warning=(e,t)=>this.create({...t,type:"warning",message:e});loading=(e,t)=>this.create({...t,type:"loading",message:e});promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:typeof t.loading=="string"?t.loading:t.loading()}));const s=e instanceof Promise?e:e();let i=n!==void 0;return s.then(l=>{if(typeof l=="object"&&l&&"ok"in l&&typeof l.ok=="boolean"&&!l.ok){i=!1;const c=Hr(l);this.create({id:n,type:"error",message:c})}else if(t.success!==void 0){i=!1;const c=typeof t.success=="function"?t.success(l):t.success;this.create({id:n,type:"success",message:c})}}).catch(l=>{if(t.error!==void 0){i=!1;const c=typeof t.error=="function"?t.error(l):t.error;this.create({id:n,type:"error",message:c})}}).finally(()=>{i&&(this.dismiss(n),n=void 0),t.finally?.()}),n};custom=(e,t)=>{const n=t?.id||Lt++;return this.create({component:e,id:n,...t}),n};removeHeight=e=>{this.heights=this.heights.filter(t=>t.toastId!==e)};setHeight=e=>{const t=this.#r(e.toastId);if(t===null){this.heights.push(e);return}this.heights[t]=e};reset=()=>{this.toasts=[],this.heights=[]}}function Hr(o){return o&&typeof o=="object"&&"status"in o?`HTTP error! Status: ${o.status}`:`Error! ${o}`}const we=new Ur;function Kr(o,e){return we.create({message:o,...e})}const Vr=Kr,pe=Object.assign(Vr,{success:we.success,info:we.info,warning:we.warning,error:we.error,custom:we.custom,message:we.message,promise:we.promise,dismiss:we.dismiss,loading:we.loading,getActiveToasts:()=>we.toasts.filter(o=>!o.dismiss)});function Yr(o,e){ie(e,!0);let t=C(e,"ref",15,null),n=ke(e,["$$slots","$$events","$$legacy","ref","class"]);var s=w(),i=u(s);{let l=N(()=>Ge("text-lg font-semibold leading-none",e.class));F(i,()=>Tr,(c,m)=>{m(c,Se({"data-slot":"dialog-title",get class(){return r(l)}},()=>n,{get ref(){return t()},set ref(A){t(A)}}))})}a(o,s),le()}var Gr=T("<div><!></div>");function Xr(o,e){ie(e,!0);let t=C(e,"ref",15,null),n=ke(e,["$$slots","$$events","$$legacy","ref","class","children"]);var s=Gr();Le(s,l=>({"data-slot":"dialog-footer",class:l,...n}),[()=>Ge("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e.class)]);var i=p(s);ne(i,()=>e.children??ze),g(s),Kt(s,l=>t(l),()=>t()),a(o,s),le()}var Qr=T("<div><!></div>");function Wr(o,e){ie(e,!0);let t=C(e,"ref",15,null),n=ke(e,["$$slots","$$events","$$legacy","ref","class","children"]);var s=Qr();Le(s,l=>({"data-slot":"dialog-header",class:l,...n}),[()=>Ge("flex flex-col gap-2 text-center sm:text-left",e.class)]);var i=p(s);ne(i,()=>e.children??ze),g(s),Kt(s,l=>t(l),()=>t()),a(o,s),le()}function Zr(o,e){ie(e,!0);let t=C(e,"ref",15,null),n=ke(e,["$$slots","$$events","$$legacy","ref","class"]);var s=w(),i=u(s);{let l=N(()=>Ge("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e.class));F(i,()=>Er,(c,m)=>{m(c,Se({"data-slot":"dialog-overlay",get class(){return r(l)}},()=>n,{get ref(){return t()},set ref(A){t(A)}}))})}a(o,s),le()}var es=T('<!> <span class="sr-only">Close</span>',1),ts=T("<!> <!>",1),rs=T("<!> <!>",1);function ss(o,e){ie(e,!0);let t=C(e,"ref",15,null),n=C(e,"showCloseButton",3,!0),s=ke(e,["$$slots","$$events","$$legacy","ref","class","portalProps","children","showCloseButton"]);var i=w(),l=u(i);F(l,()=>ns,(c,m)=>{m(c,Se(()=>e.portalProps,{children:(A,oe)=>{var Y=rs(),R=u(Y);F(R,()=>Zr,(v,L)=>{L(v,{})});var P=d(R,2);{let v=N(()=>Ge("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed left-[50%] top-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e.class));F(P,()=>Rr,(L,z)=>{z(L,Se({"data-slot":"dialog-content",get class(){return r(v)}},()=>s,{get ref(){return t()},set ref(k){t(k)},children:(k,U)=>{var ee=ts(),me=u(ee);ne(me,()=>e.children??ze);var ue=d(me,2);{var Me=_e=>{var ye=w(),Be=u(ye);F(Be,()=>Mr,($e,je)=>{je($e,{class:"ring-offset-background focus:ring-ring rounded-xs focus:outline-hidden absolute right-4 top-4 opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 disabled:pointer-events-none [&_svg:not([class*='size-'])]:size-4 [&_svg]:pointer-events-none [&_svg]:shrink-0",children:(Ie,Re)=>{var xe=es(),Oe=u(xe);kr(Oe,{}),O(2),a(Ie,xe)},$$slots:{default:!0}})}),a(_e,ye)};V(ue,_e=>{n()&&_e(Me)})}a(k,ee)},$$slots:{default:!0}}))})}a(A,Y)},$$slots:{default:!0}}))}),a(o,i),le()}function os(o,e){ie(e,!0);let t=C(e,"ref",15,null),n=ke(e,["$$slots","$$events","$$legacy","ref","class"]);var s=w(),i=u(s);{let l=N(()=>Ge("text-muted-foreground text-sm",e.class));F(i,()=>zr,(c,m)=>{m(c,Se({"data-slot":"dialog-description",get class(){return r(l)}},()=>n,{get ref(){return t()},set ref(A){t(A)}}))})}a(o,s),le()}const as=Or,ns=hr;function qt(o,e="full"){if(!o)return"-";const t=typeof o=="string"?new Date(o):o;if(isNaN(t.getTime()))return"-";const s=new Date().getTime()-t.getTime();switch(e){case"relative":{const i=Math.floor(s/1e3),l=Math.floor(i/60),c=Math.floor(l/60),m=Math.floor(c/24);if(i<60)return"たった今";if(l<60)return`${l}分前`;if(c<24)return`${c}時間前`;if(m<7)return`${m}日前`;break}case"date":return t.toLocaleDateString("ja-JP",{year:"numeric",month:"2-digit",day:"2-digit"});case"time":return t.toLocaleTimeString("ja-JP",{hour:"2-digit",minute:"2-digit"});case"full":default:return t.toLocaleString("ja-JP",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}return t.toLocaleDateString("ja-JP",{year:"numeric",month:"2-digit",day:"2-digit"})}function is(o){if(!o)return"";const e=new Date(o);return isNaN(e.getTime())?"":e.toISOString()}function ls(o,e=50){if(!o||o.length<=e)return o;const t=o.includes("\\")?"\\":"/",n=o.split(t);if(n.length<=2)return o.substring(0,e-3)+"...";const s=n[0]||t,i=n[n.length-1];if(s.length+i.length+5>e){const A=e-5;return".../"+i.substring(i.length-A)}let c=n.slice(1,-1),m=s+t+c.join(t)+t+i;for(;m.length>e&&c.length>0;)if(c.length<=2){m=s+t+"..."+t+i;break}else c.length%2===0?c=c.slice(1):c=c.slice(0,-1),m=s+t+"..."+t+c.join(t)+t+i;if(m.length>e){const A=e-6-i.length;A>0?m=s.substring(0,A)+".../"+i:m=".../"+i}return m}function Jt(o,e,t=60){const n=o.length>20?o.substring(0,17)+"...":o,s=t-n.length-3,i=ls(e,Math.max(s,20));return`${n} (${i})`}var cs=T("<!> <!>",1),ds=T('<div class="text-sm text-muted-foreground">リポジトリを読み込み中...</div>'),us=T('<div class="text-sm text-muted-foreground">利用可能なリポジトリがありません</div>'),vs=T("<!> <!>",1),fs=(o,e)=>r(e).scheduleType="cron",hs=(o,e)=>r(e).scheduleType="once",gs=T('<div class="space-y-2"><!> <!> <div class="text-sm text-muted-foreground">分 時 日 月 曜日 の形式で指定します</div> <div class="space-y-2"><!> <div class="flex flex-wrap gap-2"></div></div></div>'),ps=T('<div class="space-y-2"><!> <!></div>'),ms=T("<!> <!>",1),_s=T("<!> <!>",1),ys=T('<!> <form class="space-y-6"><div class="space-y-4"><h3 class="text-sm font-medium">基本情報</h3> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!></div></div> <div class="space-y-4"><h3 class="text-sm font-medium">タスク設定</h3> <div class="space-y-2"><!> <!></div> <div class="space-y-2"><!> <!> <p class="text-xs text-muted-foreground">タスクを実行するリポジトリを選択してください</p></div></div> <div class="space-y-4"><h3 class="text-sm font-medium">スケジュール設定</h3> <div class="space-y-2"><div class="flex items-center space-x-2"><input type="radio" id="cron" name="scheduleType" value="cron" class="h-4 w-4"/> <!></div> <div class="flex items-center space-x-2"><input type="radio" id="once" name="scheduleType" value="once" class="h-4 w-4"/> <!></div></div> <!> <div class="space-y-2"><!> <!></div></div> <div class="space-y-4"><h3 class="text-sm font-medium">詳細設定</h3> <div class="space-y-2"><!> <!></div></div> <!></form>',1);function $s(o,e){ie(e,!0);let t=C(e,"open",15,!1);const n=sr();let s=X(Ye({name:"",description:"",instruction:"",workingDirectory:"",scheduleType:"cron",cronExpression:"0 0 * * *",executeAt:"",timezone:"Asia/Tokyo",timeout:300})),i=X(!1),l=X(Ye([])),c=X(!0);const m=[{value:"Asia/Tokyo",label:"Asia/Tokyo (JST)"},{value:"UTC",label:"UTC"},{value:"America/New_York",label:"America/New_York (EST/EDT)"},{value:"Europe/London",label:"Europe/London (GMT/BST)"}];let A=N(()=>()=>{if(!r(s).workingDirectory)return"選択してください";const z=r(l).find(k=>k.path===r(s).workingDirectory);return z?Jt(z.name,z.path):r(s).workingDirectory}),oe=N(()=>()=>{const z=m.find(k=>k.value===r(s).timezone);return z?z.label:r(s).timezone});const Y=[{label:"毎時（0分）",value:"0 * * * *"},{label:"毎日（0時）",value:"0 0 * * *"},{label:"毎週日曜（0時）",value:"0 0 * * 0"},{label:"毎月1日（0時）",value:"0 0 1 * *"},{label:"平日（月-金）9時",value:"0 9 * * 1-5"},{label:"30分ごと",value:"*/30 * * * *"},{label:"6時間ごと",value:"0 */6 * * *"}];or(async()=>{try{S(l,await br.list(),!0)}catch(z){console.error("Failed to load repositories:",z),pe.error("リポジトリの取得に失敗しました")}finally{S(c,!1)}}),Ut(()=>{t()&&S(s,{name:"",description:"",instruction:"",workingDirectory:"",scheduleType:"cron",cronExpression:"0 0 * * *",executeAt:"",timezone:"Asia/Tokyo",timeout:300},!0)});function R(z){r(s).cronExpression=z}async function P(z){if(z.preventDefault(),!r(s).name.trim()){pe.error("名前を入力してください");return}if(!r(s).instruction.trim()){pe.error("実行する指示を入力してください");return}if(r(s).scheduleType==="cron"&&!r(s).cronExpression.trim()){pe.error("Cron式を入力してください");return}if(r(s).scheduleType==="once"&&!r(s).executeAt){pe.error("実行日時を入力してください");return}S(i,!0);try{const k={type:r(s).scheduleType,timezone:r(s).timezone};r(s).scheduleType==="cron"?k.expression=r(s).cronExpression:k.executeAt=is(r(s).executeAt);const U={instruction:r(s).instruction,context:{},options:{timeout:r(s).timeout*1e3}};r(s).workingDirectory&&(U.context.workingDirectory=r(s).workingDirectory);const ee=await gt.create({name:r(s).name,description:r(s).description||void 0,taskRequest:U,schedule:k,status:"active"});n("create",ee),t(!1)}catch(k){if(console.error("Failed to create schedule:",k),k instanceof Error&&"errorData"in k){const U=k.errorData;console.error("Error details:",U),pe.error(U?.message||"スケジュールの作成に失敗しました")}else pe.error("スケジュールの作成に失敗しました")}finally{S(i,!1)}}var v=w(),L=u(v);F(L,()=>as,(z,k)=>{k(z,{get open(){return t()},set open(U){t(U)},children:(U,ee)=>{var me=w(),ue=u(me);F(ue,()=>ss,(Me,_e)=>{_e(Me,{class:"max-w-2xl max-h-[90vh] overflow-y-auto",children:(ye,Be)=>{var $e=ys(),je=u($e);F(je,()=>Wr,(h,M)=>{M(h,{children:(b,fe)=>{var K=cs(),J=u(K);F(J,()=>Yr,($,B)=>{B($,{children:(E,Te)=>{O();var de=j("新規スケジュール作成");a(E,de)},$$slots:{default:!0}})});var x=d(J,2);F(x,()=>os,($,B)=>{B($,{children:(E,Te)=>{O();var de=j("定期的に実行するタスクを設定します");a(E,de)},$$slots:{default:!0}})}),a(b,K)},$$slots:{default:!0}})});var Ie=d(je,2),Re=p(Ie),xe=d(p(Re),2),Oe=p(xe);be(Oe,{for:"name",children:(h,M)=>{O();var b=j("名前 *");a(h,b)},$$slots:{default:!0}});var f=d(Oe,2);ht(f,{id:"name",placeholder:"例: DBバックアップ",required:!0,get value(){return r(s).name},set value(h){r(s).name=h}}),g(xe);var _=d(xe,2),D=p(_);be(D,{for:"description",children:(h,M)=>{O();var b=j("説明");a(h,b)},$$slots:{default:!0}});var H=d(D,2);jt(H,{id:"description",placeholder:"このスケジュールの説明（任意）",rows:2,get value(){return r(s).description},set value(h){r(s).description=h}}),g(_),g(Re);var y=d(Re,2),q=d(p(y),2),W=p(q);be(W,{for:"instruction",children:(h,M)=>{O();var b=j("実行する指示 *");a(h,b)},$$slots:{default:!0}});var I=d(W,2);jt(I,{id:"instruction",placeholder:"例: データベースのバックアップを作成して、S3にアップロードしてください",rows:3,required:!0,get value(){return r(s).instruction},set value(h){r(s).instruction=h}}),g(q);var G=d(q,2),ve=p(G);be(ve,{for:"workingDirectory",children:(h,M)=>{O();var b=j("作業ディレクトリ（リポジトリ）");a(h,b)},$$slots:{default:!0}});var Fe=d(ve,2);{var ae=h=>{var M=ds();a(h,M)},te=h=>{var M=w(),b=u(M);{var fe=J=>{var x=us();a(J,x)},K=J=>{var x=w(),$=u(x);F($,()=>xt,(B,E)=>{E(B,{type:"single",get value(){return r(s).workingDirectory},set value(Te){r(s).workingDirectory=Te},children:(Te,de)=>{var Je=vs(),vt=u(Je);F(vt,()=>Pt,(Ue,tt)=>{tt(Ue,{id:"workingDirectory",children:(rt,_t)=>{O();var st=j();ge(yt=>he(st,yt),[()=>r(A)()]),a(rt,st)},$$slots:{default:!0}})});var ft=d(vt,2);F(ft,()=>bt,(Ue,tt)=>{tt(Ue,{children:(rt,_t)=>{var st=w(),yt=u(st);Ke(yt,17,()=>r(l),Ve,(Qt,$t)=>{var It=w(),Wt=u(It);{let Zt=N(()=>Jt(r($t).name,r($t).path));F(Wt,()=>wt,(er,tr)=>{tr(er,{get value(){return r($t).path},get label(){return r(Zt)}})})}a(Qt,It)}),a(rt,st)},$$slots:{default:!0}})}),a(Te,Je)},$$slots:{default:!0}})}),a(J,x)};V(b,J=>{r(l).length===0?J(fe):J(K,!1)},!0)}a(h,M)};V(Fe,h=>{r(c)?h(ae):h(te,!1)})}O(2),g(G),g(y);var re=d(y,2),se=d(p(re),2),ce=p(se),Z=p(ce);Mt(Z),Z.__change=[fs,s];var De=d(Z,2);be(De,{for:"cron",children:(h,M)=>{O();var b=j("繰り返し実行（Cron式）");a(h,b)},$$slots:{default:!0}}),g(ce);var Pe=d(ce,2),Ce=p(Pe);Mt(Ce),Ce.__change=[hs,s];var Qe=d(Ce,2);be(Qe,{for:"once",children:(h,M)=>{O();var b=j("1回のみ実行");a(h,b)},$$slots:{default:!0}}),g(Pe),g(se);var it=d(se,2);{var pt=h=>{var M=gs(),b=p(M);be(b,{for:"cronExpression",children:($,B)=>{O();var E=j("Cron式 *");a($,E)},$$slots:{default:!0}});var fe=d(b,2);ht(fe,{id:"cronExpression",placeholder:"例: 0 0 * * * (毎日0時)",required:!0,get value(){return r(s).cronExpression},set value($){r(s).cronExpression=$}});var K=d(fe,4),J=p(K);be(J,{children:($,B)=>{O();var E=j("よく使うパターン");a($,E)},$$slots:{default:!0}});var x=d(J,2);Ke(x,21,()=>Y,Ve,($,B)=>{Ae($,{type:"button",variant:"outline",size:"sm",onclick:()=>R(r(B).value),children:(E,Te)=>{O();var de=j();ge(()=>he(de,r(B).label)),a(E,de)},$$slots:{default:!0}})}),g(x),g(K),g(M),a(h,M)},lt=h=>{var M=ps(),b=p(M);be(b,{for:"executeAt",children:(K,J)=>{O();var x=j("実行日時 *");a(K,x)},$$slots:{default:!0}});var fe=d(b,2);ht(fe,{id:"executeAt",type:"datetime-local",required:!0,get value(){return r(s).executeAt},set value(K){r(s).executeAt=K}}),g(M),a(h,M)};V(it,h=>{r(s).scheduleType==="cron"?h(pt):h(lt,!1)})}var ct=d(it,2),We=p(ct);be(We,{children:(h,M)=>{O();var b=j("タイムゾーン");a(h,b)},$$slots:{default:!0}});var Ze=d(We,2);F(Ze,()=>xt,(h,M)=>{M(h,{type:"single",get value(){return r(s).timezone},set value(b){r(s).timezone=b},children:(b,fe)=>{var K=ms(),J=u(K);F(J,()=>Pt,($,B)=>{B($,{children:(E,Te)=>{O();var de=j();ge(Je=>he(de,Je),[()=>r(oe)()]),a(E,de)},$$slots:{default:!0}})});var x=d(J,2);F(x,()=>bt,($,B)=>{B($,{children:(E,Te)=>{var de=w(),Je=u(de);Ke(Je,17,()=>m,Ve,(vt,ft)=>{var Ue=w(),tt=u(Ue);F(tt,()=>wt,(rt,_t)=>{_t(rt,{get value(){return r(ft).value},get label(){return r(ft).label}})}),a(vt,Ue)}),a(E,de)},$$slots:{default:!0}})}),a(b,K)},$$slots:{default:!0}})}),g(ct),g(re);var qe=d(re,2),et=d(p(qe),2),dt=p(et);be(dt,{for:"timeout",children:(h,M)=>{O();var b=j("タイムアウト（秒）");a(h,b)},$$slots:{default:!0}});var ut=d(dt,2);ht(ut,{id:"timeout",type:"number",min:"1",max:"3600",get value(){return r(s).timeout},set value(h){r(s).timeout=h}}),g(et),g(qe);var mt=d(qe,2);F(mt,()=>Xr,(h,M)=>{M(h,{children:(b,fe)=>{var K=_s(),J=u(K);Ae(J,{type:"button",variant:"outline",onclick:()=>t(!1),get disabled(){return r(i)},children:($,B)=>{O();var E=j("キャンセル");a($,E)},$$slots:{default:!0}});var x=d(J,2);Ae(x,{type:"submit",get disabled(){return r(i)},children:($,B)=>{O();var E=j();ge(()=>he(E,r(i)?"作成中...":"作成")),a($,E)},$$slots:{default:!0}}),a(b,K)},$$slots:{default:!0}})}),g(Ie),ge(()=>{Bt(Z,r(s).scheduleType==="cron"),Bt(Ce,r(s).scheduleType==="once")}),pr("submit",Ie,P),a(ye,$e)},$$slots:{default:!0}})}),a(U,me)},$$slots:{default:!0}})}),a(o,v),le()}gr(["change"]);var xs=T("<!> 新規作成",1),Ps=T("<!> <!>",1),bs=T("<!> 最初のスケジュールを作成",1),ws=T('<!> <p class="text-muted-foreground">スケジュールがありません</p> <!>',1),Ss=T('<p class="text-sm text-muted-foreground mb-3"> </p>'),ks=T("<div> </div>"),Ds=T("<div> </div>"),Cs=T('<div class="flex items-center justify-between"><div class="flex-1"><div class="flex items-center gap-3 mb-2"><h3 class="text-lg font-semibold"> </h3> <!></div> <!> <div class="flex items-center gap-6 text-sm text-muted-foreground"><div class="flex items-center gap-1"><!> <span> </span></div> <!> <!></div></div> <div class="flex gap-2"><!> <!></div></div>'),Ts=T('<span class="px-2">...</span>'),As=T('<div class="mt-8 flex justify-center gap-2"><!> <!> <!></div>'),Is=T('<div class="container mx-auto py-8"><div class="mb-8"><div class="flex items-center justify-between mb-4"><div><h1 class="text-3xl font-bold">スケジューラー</h1> <p class="text-muted-foreground mt-1">定期実行タスクの管理</p></div> <!></div> <div class="flex gap-4"><!></div></div> <div class="space-y-4"><!></div> <!></div> <!>',1);function oo(o,e){ie(e,!0);const[t,n]=ar(),s=()=>nr(ir,"$page",t);let i=X(Ye(e.data.schedules)),l=X(!1),c=X(Ye(e.data.status||"all"));Ut(()=>{S(i,e.data.schedules,!0)});const m=[{value:"all",label:"すべて"},{value:"active",label:"有効"},{value:"inactive",label:"無効"},{value:"completed",label:"完了"},{value:"failed",label:"失敗"}];let A=N(()=>()=>{const f=m.find(_=>_.value===r(c));return f?f.label:"すべて"});function oe(f){switch(f){case"active":return"default";case"inactive":return"secondary";case"completed":return"outline";case"failed":return"destructive";default:return"secondary"}}function Y(f){switch(f){case"active":return"有効";case"inactive":return"無効";case"completed":return"完了";case"failed":return"失敗";default:return f}}function R(f){if(f.type==="once")return"1回のみ";const _=f.expression;return _?_==="0 * * * *"?"毎時":_==="0 0 * * *"?"毎日":_==="0 0 * * 0"?"毎週":_==="0 0 1 * *"?"毎月":_:"-"}async function P(f,_){try{const D=_!=="active",H=await gt.toggle(f,D);S(i,r(i).map(y=>y.id===f?{...y,status:H.status}:y),!0),pe.success(`スケジュールを${D?"有効":"無効"}にしました`)}catch(D){console.error("Failed to toggle schedule:",D),pe.error("スケジュールの更新に失敗しました")}}async function v(f,_){if(confirm(`「${_}」を削除してもよろしいですか？`))try{await gt.delete(f),S(i,r(i).filter(D=>D.id!==f),!0),pe.success("スケジュールを削除しました")}catch(D){console.error("Failed to delete schedule:",D),pe.error("スケジュールの削除に失敗しました")}}function L(f){S(i,[f.detail,...r(i)],!0),S(l,!1),pe.success("スケジュールを作成しました")}function z(f){if(!f)return;S(c,f,!0);const _=new URLSearchParams(s().url.searchParams);f==="all"?_.delete("status"):_.set("status",f),_.set("page","1"),Nt(`?${_.toString()}`)}function k(f){const _=new URLSearchParams(s().url.searchParams);_.set("page",f.toString()),Nt(`?${_.toString()}`)}var U=Is(),ee=u(U),me=p(ee),ue=p(me),Me=d(p(ue),2);Ae(Me,{onclick:()=>S(l,!0),children:(f,_)=>{var D=xs(),H=u(D);Rt(H,{class:"mr-2 h-4 w-4"}),O(),a(f,D)},$$slots:{default:!0}}),g(ue);var _e=d(ue,2),ye=p(_e);F(ye,()=>xt,(f,_)=>{_(f,{type:"single",onValueChange:z,get value(){return r(c)},set value(D){S(c,D,!0)},children:(D,H)=>{var y=Ps(),q=u(y);F(q,()=>Pt,(I,G)=>{G(I,{class:"w-[180px]",children:(ve,Fe)=>{O();var ae=j();ge(te=>he(ae,te),[()=>r(A)()]),a(ve,ae)},$$slots:{default:!0}})});var W=d(q,2);F(W,()=>bt,(I,G)=>{G(I,{children:(ve,Fe)=>{var ae=w(),te=u(ae);Ke(te,17,()=>m,Ve,(re,se)=>{var ce=w(),Z=u(ce);F(Z,()=>wt,(De,Pe)=>{Pe(De,{get value(){return r(se).value},get label(){return r(se).label}})}),a(re,ce)}),a(ve,ae)},$$slots:{default:!0}})}),a(D,y)},$$slots:{default:!0}})}),g(_e),g(me);var Be=d(me,2),$e=p(Be);{var je=f=>{var _=w(),D=u(_);F(D,()=>Ot,(H,y)=>{y(H,{children:(q,W)=>{var I=w(),G=u(I);F(G,()=>zt,(ve,Fe)=>{Fe(ve,{class:"py-12 text-center",children:(ae,te)=>{var re=ws(),se=u(re);Sr(se,{class:"mx-auto h-12 w-12 text-muted-foreground mb-4"});var ce=d(se,4);Ae(ce,{variant:"outline",class:"mt-4",onclick:()=>S(l,!0),children:(Z,De)=>{var Pe=bs(),Ce=u(Pe);Rt(Ce,{class:"mr-2 h-4 w-4"}),O(),a(Z,Pe)},$$slots:{default:!0}}),a(ae,re)},$$slots:{default:!0}})}),a(q,I)},$$slots:{default:!0}})}),a(f,_)},Ie=f=>{var _=w(),D=u(_);Ke(D,17,()=>r(i),Ve,(H,y)=>{var q=w(),W=u(q);F(W,()=>Ot,(I,G)=>{G(I,{children:(ve,Fe)=>{var ae=w(),te=u(ae);F(te,()=>zt,(re,se)=>{se(re,{class:"p-6",children:(ce,Z)=>{var De=Cs(),Pe=p(De),Ce=p(Pe),Qe=p(Ce),it=p(Qe,!0);g(Qe);var pt=d(Qe,2);{let x=N(()=>oe(r(y).status));lr(pt,{get variant(){return r(x)},children:($,B)=>{O();var E=j();ge(Te=>he(E,Te),[()=>Y(r(y).status)]),a($,E)},$$slots:{default:!0}})}g(Ce);var lt=d(Ce,2);{var ct=x=>{var $=Ss(),B=p($,!0);g($),ge(()=>he(B,r(y).description)),a(x,$)};V(lt,x=>{r(y).description&&x(ct)})}var We=d(lt,2),Ze=p(We),qe=p(Ze);wr(qe,{class:"h-4 w-4"});var et=d(qe,2),dt=p(et);g(et),g(Ze);var ut=d(Ze,2);{var mt=x=>{var $=ks(),B=p($);g($),ge(E=>he(B,`次回実行: ${E??""}`),[()=>qt(r(y).metadata.nextExecuteAt)]),a(x,$)};V(ut,x=>{r(y).metadata.nextExecuteAt&&x(mt)})}var h=d(ut,2);{var M=x=>{var $=Ds(),B=p($);g($),ge(E=>he(B,`最終実行: ${E??""}`),[()=>qt(r(y).metadata.lastExecutedAt)]),a(x,$)};V(h,x=>{r(y).metadata.lastExecutedAt&&x(M)})}g(We),g(Pe);var b=d(Pe,2),fe=p(b);{var K=x=>{Ae(x,{variant:"outline",size:"sm",onclick:()=>P(r(y).id,r(y).status),children:($,B)=>{O();var E=j();ge(()=>he(E,r(y).status==="active"?"無効にする":"有効にする")),a($,E)},$$slots:{default:!0}})};V(fe,x=>{(r(y).status==="active"||r(y).status==="inactive")&&x(K)})}var J=d(fe,2);Ae(J,{variant:"outline",size:"sm",class:"text-destructive",onclick:()=>v(r(y).id,r(y).name),children:(x,$)=>{O();var B=j("削除");a(x,B)},$$slots:{default:!0}}),g(b),g(De),ge(x=>{he(it,r(y).name),he(dt,`頻度: ${x??""}`)},[()=>R(r(y).schedule)]),a(ce,De)},$$slots:{default:!0}})}),a(ve,ae)},$$slots:{default:!0}})}),a(H,q)}),a(f,_)};V($e,f=>{r(i).length===0?f(je):f(Ie,!1)})}g(Be);var Re=d(Be,2);{var xe=f=>{var _=As(),D=p(_);{let q=N(()=>e.data.currentPage===1);Ae(D,{variant:"outline",size:"sm",get disabled(){return r(q)},onclick:()=>k(e.data.currentPage-1),children:(W,I)=>{O();var G=j("前へ");a(W,G)},$$slots:{default:!0}})}var H=d(D,2);Ke(H,17,()=>Array(e.data.totalPages),Ve,(q,W,I)=>{var G=w(),ve=u(G);{var Fe=te=>{{let re=N(()=>I+1===e.data.currentPage?"default":"outline");Ae(te,{get variant(){return r(re)},size:"sm",onclick:()=>k(I+1),children:(se,ce)=>{O();var Z=j();Z.nodeValue=I+1,a(se,Z)},$$slots:{default:!0}})}},ae=te=>{var re=w(),se=u(re);{var ce=Z=>{var De=Ts();a(Z,De)};V(se,Z=>{(I+1===e.data.currentPage-3||I+1===e.data.currentPage+3)&&Z(ce)},!0)}a(te,re)};V(ve,te=>{I+1===1||I+1===e.data.totalPages||I+1>=e.data.currentPage-2&&I+1<=e.data.currentPage+2?te(Fe):te(ae,!1)})}a(q,G)});var y=d(H,2);{let q=N(()=>e.data.currentPage===e.data.totalPages);Ae(y,{variant:"outline",size:"sm",get disabled(){return r(q)},onclick:()=>k(e.data.currentPage+1),children:(W,I)=>{O();var G=j("次へ");a(W,G)},$$slots:{default:!0}})}g(_),a(f,_)};V(Re,f=>{e.data.totalPages>1&&f(xe)})}g(ee);var Oe=d(ee,2);$s(Oe,{get open(){return r(l)},set open(f){S(l,f,!0)},$$events:{create:L}}),a(o,U),le(),n()}export{oo as component,so as universal};
